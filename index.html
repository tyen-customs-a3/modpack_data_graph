<!DOCTYPE html>
<html>
<head>
    <title>File Size Visualizer</title>
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <link rel="stylesheet" href="css/base.css">
    <link rel="stylesheet" href="css/circlePack.css">
    <link rel="stylesheet" href="css/treemap.css">
    <link rel="stylesheet" href="css/dark-theme.css" id="dark-theme" disabled>
</head>
<body>
    <div class="header">
        <div class="slider-container">
            <label for="depth-slider">Depth: </label>
            <input type="range" id="depth-slider" min="1" max="5" value="1">
            <span id="depth-value">1</span>
        </div>
        <button id="toggle-labels" class="toggle-button">Hide Labels</button>
        <button id="toggle-visualization" class="toggle-button">Switch to Treemap</button>
        <button id="toggle-theme" class="toggle-button">Dark Mode</button>
        <div class="size-progress-container">
            <div class="size-progress-label">Visible: <span id="visible-size">0</span> / <span id="total-size">0</span></div>
            <div class="size-progress-bar">
                <div id="size-progress" class="size-progress"></div>
            </div>
        </div>
    </div>
    <div class="main-container">
        <div id="directory-sidebar">
            <h3>Directories</h3>
            <div id="directory-list">
                <p>Loading directories...</p>
            </div>
        </div>
        <div class="resize-handle left"></div>
        <div id="visualization">
            <div id="legend">
                <h4>Controls</h4>
                <ul>
                    <li><kbd>Ctrl</kbd> + Click: Toggle directory visibility</li>
                    <li>Click: Select directory/file</li>
                    <li>Click outside: Clear selection</li>
                </ul>
            </div>
        </div>
        <div class="resize-handle right"></div>
        <div id="sidepanel">
            <h3>File Information</h3>
            <div id="hover-info">
                <p>Click on a file or directory to see details</p>
            </div>
            <div id="file-list">
                <h4>Contents</h4>
                <div id="file-list-content">
                    <p>Select a directory to view its contents</p>
                </div>
            </div>
        </div>
    </div>
    <script src="js/core/dataManager.js"></script>
    <script src="js/core/visualizationManager.js"></script>
    <script src="js/core/uiManager.js"></script>
    <script src="js/core/directoryListController.js"></script>
    <script src="js/visualizations/circlePack.js"></script>
    <script src="js/visualizations/treemap.js"></script>
    <script src="js/main.js"></script>
    <script>
        // Theme toggle functionality
        const themeToggle = document.getElementById('toggle-theme');
        const darkTheme = document.getElementById('dark-theme');
        
        // Set initial theme to light (dark theme disabled)
        localStorage.setItem('theme', 'light');
        
        themeToggle.addEventListener('click', () => {
            if (darkTheme.disabled) {
                darkTheme.disabled = false;
                themeToggle.textContent = 'Light Mode';
                localStorage.setItem('theme', 'dark');
            } else {
                darkTheme.disabled = true;
                themeToggle.textContent = 'Dark Mode';
                localStorage.setItem('theme', 'light');
            }
        });
    </script>
</body>
</html> 